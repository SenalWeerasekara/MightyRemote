#include <Arduino.h>
#include <IRremoteESP8266.h>
#include <IRsend.h>

#define IR_LED_PIN 12 

IRsend irsend(IR_LED_PIN);  

uint16_t rawData[197] = {6108, 7364,  504, 1696,  564, 1634,  536, 1664,  536, 1666,  482, 1718,  482, 1700,  566, 1654,  536, 1640,  562, 562,  538, 590,  574, 556,  568, 576,  508, 616,  480, 642,  508, 620,  532, 590,  538, 1664,  506, 1694,  482, 1722,  510, 1664,  540, 1686,  512, 1666,  532, 1668,  506, 1696,  510, 614,  482, 644,  506, 616,  536, 592,  538, 586,  566, 558,  556, 576,  568, 560,  558, 1636,  538, 1662,  564, 1640,  532, 1666,  482, 1720,  480, 1694,  562, 1640,  538, 1660,  540, 584,  540, 584,  544, 586,  566, 560,  538, 592,  504, 626,  520, 616,  508, 616,  536, 1666,  508, 1676,  502, 640,  486, 1696,  532, 1664,  538, 1660,  540, 1662,  542, 1660,  484, 642,  510, 614,  540, 1662,  510, 614,  538, 586,  540, 586,  540, 588,  572, 554,  568, 562,  502, 624,  500, 1698,  536, 592,  524, 1674,  564, 564,  504, 1690,  536, 1662,  538, 1664,  564, 1636,  510, 614,  538, 1664,  508, 616,  534, 1666,  508, 616,  536, 590,  538, 586,  562, 1638,  536, 588,  566, 1634,  534, 592,  538, 1664,  532, 592,  536, 588,  540, 1660,  536, 590,  540, 1660,  534, 590,  534, 1668,  506, 618,  532, 1668,  482, 1700,  502, 7464,  562}; 

void setup() {
  Serial.begin(115200);
  irsend.begin();
  Serial.println("Press 'p' to send IR signal.");
}

void loop() {
  if (Serial.available()) {
    char input = Serial.read();
    if (input == 'p') {
      Serial.println("Sending IR signal...");
      irsend.sendRaw(rawData, 197, 38);  // Send the raw IR signal at 38kHz
      Serial.println("Signal sent!");
    }
  }
}
